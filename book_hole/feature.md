## 用户管理

> 用户管理分为三个模块：收集微信用户信息、微信用户详细信息、后台用户信息。

收集微信用户信息多端打通，里面以openid，unionid为主，同时记录创建时间，最后登录时间以及登录频率。

微信用户详细信息里面则会记录姓名、性别、生日、手机号、个人简介、邮箱、住址、创建时间。微信用户信息通过unionid进行关联。

后台用户信息：账户、密码、昵称、头像、创建时间、登录时间，这里的id考虑通过uuid生成。

**考虑：** 用户数据如何打通，登录形式

**技术点：** 获取手机号、使用uuid生成唯一id、鉴权

**微信小程序授权pc登录**

* pc生成授权码
* 生成带授权码的小程序登录页的太阳码
* openid与授权码绑定
* 检查绑定状态

**注意点：** 小程序码转base64供前端使用

* 请求微信生成小程序码的接口返回的是buffer类型，请求时需要在同级加响应类型`responseType: "arraybuffer"`
* 使用buffer转为base64`Buffer.from(img, "binary").toString("base64")`
* 拼接前缀`data:image/png;base64,`

## 字典管理

包含全站所用到的基础数据，通过类型编组。

## 文章管理

> 轮播图、热门前十推荐、文章列表、文章搜索、新增文章、删除文章（使用软删除）、文章详情

文章管理里面存在两种类型，其一是使用公众号文章，只需提供链接；其二是文章内容，使用markdown格式渲染。

文章打标来标识是否是轮播图展示的数据，不用返回全部字段，基础字段即可。

通过阅读数来判断前十热门文章

文章搜索要实现精准查找例如：排序、类型、标题内容等。

总体要求后端要处理好展示的数据格式

## 每日一文-公告

> 收集优美的片段展示，同时用作公告展示

每日一文单独成立一个模块，同时新增公告模块，用于展示站内信息通告，同时站内所有用的片段，都从每日一文中随机提取。公告中打标展示，如没有公告则合并随机返回美文。

## 图库

分类展示各种类型的图片，同时记录图片的查看、下载数据

## 知识库

> 热门推荐、精准查询、题目列表、题目详情、新增题目、删除题目（软删除）、题目收藏、热门试卷、生成试卷

用户生成的试卷需审核后展示

